{
  "version": 3,
  "sources": ["../src/main/preload.ts"],
  "sourcesContent": ["import { contextBridge, ipcRenderer } from 'electron';\n\n// Exponer API de forma segura\ncontextBridge.exposeInMainWorld('api', {\n  // M\u00E9todos de b\u00FAsqueda\n  modrinth: {\n    search: (options: { contentType: string; search: string }) => {\n      console.log('Buscando en Modrinth:', options);\n      return ipcRenderer.invoke('modrinth:search', options);\n    },\n    getCompatibleVersions: (payload: { projectId: string, mcVersion: string, loader?: string }) =>\n      ipcRenderer.invoke('modrinth:get-compatible-versions', payload)\n  },\n  curseforge: {\n    search: (options: { contentType: string; search: string }) => {\n      console.log('Buscando en CurseForge:', options);\n      return ipcRenderer.invoke('curseforge:search', options);\n    },\n    getCompatibleVersions: (payload: { projectId: string, mcVersion: string, loader?: string }) =>\n      ipcRenderer.invoke('curseforge:get-compatible-versions', payload)\n  },\n  elyby: {\n    verifyUsername: (username: string) =>\n      ipcRenderer.invoke('elyby:verify-username', username),\n    authenticate: (username: string, password: string, totpToken?: string) =>\n      ipcRenderer.invoke('elyby:authenticate', username, password, totpToken),\n    startOAuth: () =>\n      ipcRenderer.invoke('elyby:start-oauth')\n  },\n  littleskin: {\n    startOAuth: () =>\n      ipcRenderer.invoke('littleskin:start-oauth')\n  },\n  yggdrasil: {\n    authenticate: (username: string, password: string) =>\n      ipcRenderer.invoke('yggdrasil:authenticate', username, password),\n    refresh: (accessToken: string, clientToken: string) =>\n      ipcRenderer.invoke('yggdrasil:refresh', accessToken, clientToken),\n    validate: (accessToken: string) =>\n      ipcRenderer.invoke('yggdrasil:validate', accessToken)\n  },\n  drkauth: {\n    authenticate: (username: string, password: string) =>\n      ipcRenderer.invoke('drkauth:authenticate', username, password),\n    refresh: (accessToken: string, clientToken: string) =>\n      ipcRenderer.invoke('drkauth:refresh', accessToken, clientToken),\n    validate: (accessToken: string) =>\n      ipcRenderer.invoke('drkauth:validate', accessToken)\n  },\n\n  // M\u00E9todos de descarga\n  download: {\n    start: (data: { url: string; filename: string; itemId: string }) =>\n      ipcRenderer.send('download:start', data),\n    onProgress: (callback: (event: any, data: any) => void) => {\n      ipcRenderer.on('download:progress', callback);\n      return () => ipcRenderer.removeListener('download:progress', callback);\n    },\n    onComplete: (callback: (event: any, data: any) => void) => {\n      ipcRenderer.on('download:complete', callback);\n      return () => ipcRenderer.removeListener('download:complete', callback);\n    },\n    onError: (callback: (event: any, error: any) => void) => {\n      ipcRenderer.on('download:error', callback);\n      return () => ipcRenderer.removeListener('download:error', callback);\n    },\n    // M\u00E9todo para cancelar descargas\n    cancel: (downloadId: string) => ipcRenderer.invoke('download:cancel', downloadId),\n    cancelAll: () => ipcRenderer.invoke('download:cancelAll')\n  },\n\n  // Otros m\u00E9todos necesarios (mant\u00E9n solo los que necesites)\n  settings: {\n    get: () => ipcRenderer.invoke('settings:get'),\n    set: (s: unknown) => ipcRenderer.invoke('settings:set', s)\n  },\n\n  // API de instancias\n  instances: {\n    list: () => ipcRenderer.invoke('instances:list'),\n    create: (p: unknown) => ipcRenderer.invoke('instances:create', p),\n    update: (p: unknown) => ipcRenderer.invoke('instances:update', p),\n    delete: (id: string) => ipcRenderer.invoke('instances:delete', id),\n    openFolder: (id: string) => ipcRenderer.invoke('instances:openFolder', id),\n    installContent: (payload: unknown) => ipcRenderer.invoke('instance:install-content', payload),\n    scanAndRegister: () => ipcRenderer.invoke('instances:scan-and-register')\n  },\n\n  // API para creaci\u00F3n completa de instancias\n  instance: {\n    createFull: (payload: unknown) => ipcRenderer.invoke('instance:create-full', payload)\n  },\n\n  // Otros APIs\n  versions: {\n    list: () => ipcRenderer.invoke('versions:list')\n  },\n\n  logs: {\n    getRecent: (count: number) => ipcRenderer.invoke('logs:get-recent', count),\n    getByType: (payload: { type: string, count: number }) => ipcRenderer.invoke('logs:get-by-type', payload),\n    getStats: () => ipcRenderer.invoke('logs:get-stats'),\n    readLog: (logPath: string) => ipcRenderer.invoke('logs:readLog', logPath)\n  },\n\n  progress: {\n    getAllStatuses: () => ipcRenderer.invoke('progress:get-all-statuses'),\n    getOverall: () => ipcRenderer.invoke('progress:get-overall'),\n    getDownloadStatuses: () => ipcRenderer.invoke('progress:get-download-statuses')\n  },\n\n  crash: {\n    analyze: (p: unknown) => ipcRenderer.invoke('crash:analyze', p),\n    list: () => ipcRenderer.invoke('crash:list'),\n    delete: (id: string) => ipcRenderer.invoke('crash:delete', id)\n  },\n\n  servers: {\n    list: () => ipcRenderer.invoke('servers:list'),\n    save: (list: unknown) => ipcRenderer.invoke('servers:save', list),\n    ping: (ip: string) => ipcRenderer.invoke('servers:ping', ip)\n  },\n\n  game: {\n    launch: (p: { instanceId: string, userProfile?: any }) => ipcRenderer.invoke('game:launch', p)\n  },\n\n  java: {\n    getAll: () => ipcRenderer.invoke('java:get-all'),\n    detect: () => ipcRenderer.invoke('java:detect'),\n    getJavaForMinecraftVersion: (version: string) => ipcRenderer.invoke('java:getJavaForMinecraftVersion', version)\n  },\n\n  // API de di\u00E1logo del sistema\n  dialog: {\n    showOpenDialog: (options: any) => ipcRenderer.invoke('dialog:showOpenDialog', options)\n  },\n\n  // API de shell del sistema\n  shell: {\n    showItemInFolder: (filePath: string) => ipcRenderer.invoke('shell:showItemInFolder', filePath),\n    openPath: (folderPath: string) => ipcRenderer.invoke('shell:openPath', folderPath),\n    openExternal: (url: string) => ipcRenderer.invoke('shell:openExternal', url)\n  },\n\n  // API de modpacks\n  modpack: {\n    createTemporary: (originalPath: string) => ipcRenderer.invoke('modpack:create-temporary', originalPath),\n    getTemporary: (id: string) => ipcRenderer.invoke('modpack:get-temporary', id)\n  },\n\n  // API de an\u00E1lisis de modpacks\n  modpackImport: {\n    analyzeFile: (filePath: string) => ipcRenderer.invoke('modpack-import:analyze-file', filePath),\n    analyzeUrl: (url: string) => ipcRenderer.invoke('modpack-import:analyze-url', url),\n    extractAndInstall: (sourcePath: string, targetPath: string) => ipcRenderer.invoke('modpack-import:extract-and-install', sourcePath, targetPath),\n    downloadModpackFromModrinth: (projectId: string, targetPath: string, mcVersion: string, loader: string) => ipcRenderer.invoke('modpack-import:download-modpack-from-modrinth', projectId, targetPath, mcVersion, loader),\n    downloadAndExtractFromUrl: (url: string, targetPath: string) => ipcRenderer.invoke('modpack-import:download-and-extract-from-url', url, targetPath)\n  }\n});\n\n// Declaraci\u00F3n de tipos para TypeScript\ndeclare global {\n  interface Window {\n    api: {\n      modrinth: {\n        search: (options: { contentType: string; search: string }) => Promise<any[]>;\n        getCompatibleVersions: (payload: { projectId: string, mcVersion: string, loader?: string }) => Promise<any[]>;\n      };\n      curseforge: {\n        search: (options: { contentType: string; search: string }) => Promise<any[]>;\n        getCompatibleVersions: (payload: { projectId: string, mcVersion: string, loader?: string }) => Promise<any[]>;\n      };\n      elyby: {\n        verifyUsername: (username: string) => Promise<{ exists: boolean; user: { id: string; name: string } | null }>;\n        authenticate: (username: string, password: string, totpToken?: string) => Promise<{ success: boolean; requires2FA?: boolean; accessToken?: string; clientToken?: string; selectedProfile?: { id: string; name: string }; availableProfiles?: Array<{ id: string; name: string }>; user?: any; error?: string }>;\n        startOAuth: () => Promise<{ success: boolean; accessToken?: string; refreshToken?: string; expiresIn?: number; tokenType?: string; selectedProfile?: { id: string; name: string }; user?: any; error?: string }>;\n      };\n      littleskin: {\n        startOAuth: () => Promise<{ success: boolean; accessToken?: string; refreshToken?: string; expiresIn?: number; tokenType?: string; selectedProfile?: { id: string; name: string }; user?: any; error?: string }>;\n      };\n      yggdrasil: {\n        authenticate: (username: string, password: string) => Promise<{ success: boolean; accessToken?: string; clientToken?: string; selectedProfile?: { id: string; name: string }; availableProfiles?: Array<{ id: string; name: string }>; user?: any; error?: string }>;\n        refresh: (accessToken: string, clientToken: string) => Promise<{ success: boolean; accessToken?: string; clientToken?: string; selectedProfile?: { id: string; name: string }; user?: any; error?: string }>;\n        validate: (accessToken: string) => Promise<{ success: boolean; isValid: boolean; error?: string }>;\n      };\n      download: {\n        start: (data: { url: string; filename: string; itemId: string }) => void;\n        onProgress: (callback: (event: any, data: any) => void) => () => void;\n        onComplete: (callback: (event: any, data: any) => void) => () => void;\n        onError: (callback: (event: any, error: any) => void) => () => void;\n      };\n      settings: {\n        get: () => Promise<any>;\n        set: (s: unknown) => Promise<any>;\n      };\n      instances: {\n        list: () => Promise<any>;\n        create: (p: unknown) => Promise<any>;\n        update: (p: unknown) => Promise<any>;\n        delete: (id: string) => Promise<any>;\n        openFolder: (id: string) => Promise<any>;\n        installContent: (payload: unknown) => Promise<any>;\n        scanAndRegister: () => Promise<any>;\n      };\n      instance: {\n        createFull: (payload: { name: string; version: string; loader?: any; javaVersion?: string; maxMemory?: number; minMemory?: number; jvmArgs?: string[] }) => Promise<any>;\n      };\n      versions: {\n        list: () => Promise<any>;\n      };\n      logs: {\n        getRecent: (count: number) => Promise<any[]>;\n        getByType: (payload: { type: string, count: number }) => Promise<any[]>;\n        getStats: () => Promise<any>;\n        readLog: (logPath: string) => Promise<string>;\n      };\n      progress: {\n        getAllStatuses: () => Promise<any[]>;\n        getOverall: () => Promise<any>;\n        getDownloadStatuses: () => Promise<any[]>;\n      };\n      crash: {\n        analyze: (p: unknown) => Promise<any>;\n        list: () => Promise<any>;\n        delete: (id: string) => Promise<any>;\n      };\n      servers: {\n        list: () => Promise<any>;\n        save: (list: unknown) => Promise<any>;\n        ping: (ip: string) => Promise<any>;\n      };\n      game: {\n        launch: (p: { instanceId: string, userProfile?: any }) => Promise<any>;\n      };\n      java: {\n        getAll: () => Promise<any[]>;\n        detect: () => Promise<any[]>;\n        getJavaForMinecraftVersion: (version: string) => Promise<string>;\n      };\n      dialog: {\n        showOpenDialog: (options: any) => Promise<any>;\n      };\n      shell: {\n        showItemInFolder: (filePath: string) => Promise<boolean>;\n        openPath: (folderPath: string) => Promise<boolean>;\n        openExternal: (url: string) => Promise<{ success: boolean; error?: string }>;\n      };\n    };\n  }\n}\n"],
  "mappings": ";AAAA,sBAA2C;AAG3C,8BAAc,kBAAkB,OAAO;AAAA;AAAA,EAErC,UAAU;AAAA,IACR,QAAQ,CAAC,YAAqD;AAC5D,cAAQ,IAAI,yBAAyB,OAAO;AAC5C,aAAO,4BAAY,OAAO,mBAAmB,OAAO;AAAA,IACtD;AAAA,IACA,uBAAuB,CAAC,YACtB,4BAAY,OAAO,oCAAoC,OAAO;AAAA,EAClE;AAAA,EACA,YAAY;AAAA,IACV,QAAQ,CAAC,YAAqD;AAC5D,cAAQ,IAAI,2BAA2B,OAAO;AAC9C,aAAO,4BAAY,OAAO,qBAAqB,OAAO;AAAA,IACxD;AAAA,IACA,uBAAuB,CAAC,YACtB,4BAAY,OAAO,sCAAsC,OAAO;AAAA,EACpE;AAAA,EACA,OAAO;AAAA,IACL,gBAAgB,CAAC,aACf,4BAAY,OAAO,yBAAyB,QAAQ;AAAA,IACtD,cAAc,CAAC,UAAkB,UAAkB,cACjD,4BAAY,OAAO,sBAAsB,UAAU,UAAU,SAAS;AAAA,IACxE,YAAY,MACV,4BAAY,OAAO,mBAAmB;AAAA,EAC1C;AAAA,EACA,YAAY;AAAA,IACV,YAAY,MACV,4BAAY,OAAO,wBAAwB;AAAA,EAC/C;AAAA,EACA,WAAW;AAAA,IACT,cAAc,CAAC,UAAkB,aAC/B,4BAAY,OAAO,0BAA0B,UAAU,QAAQ;AAAA,IACjE,SAAS,CAAC,aAAqB,gBAC7B,4BAAY,OAAO,qBAAqB,aAAa,WAAW;AAAA,IAClE,UAAU,CAAC,gBACT,4BAAY,OAAO,sBAAsB,WAAW;AAAA,EACxD;AAAA,EACA,SAAS;AAAA,IACP,cAAc,CAAC,UAAkB,aAC/B,4BAAY,OAAO,wBAAwB,UAAU,QAAQ;AAAA,IAC/D,SAAS,CAAC,aAAqB,gBAC7B,4BAAY,OAAO,mBAAmB,aAAa,WAAW;AAAA,IAChE,UAAU,CAAC,gBACT,4BAAY,OAAO,oBAAoB,WAAW;AAAA,EACtD;AAAA;AAAA,EAGA,UAAU;AAAA,IACR,OAAO,CAAC,SACN,4BAAY,KAAK,kBAAkB,IAAI;AAAA,IACzC,YAAY,CAAC,aAA8C;AACzD,kCAAY,GAAG,qBAAqB,QAAQ;AAC5C,aAAO,MAAM,4BAAY,eAAe,qBAAqB,QAAQ;AAAA,IACvE;AAAA,IACA,YAAY,CAAC,aAA8C;AACzD,kCAAY,GAAG,qBAAqB,QAAQ;AAC5C,aAAO,MAAM,4BAAY,eAAe,qBAAqB,QAAQ;AAAA,IACvE;AAAA,IACA,SAAS,CAAC,aAA+C;AACvD,kCAAY,GAAG,kBAAkB,QAAQ;AACzC,aAAO,MAAM,4BAAY,eAAe,kBAAkB,QAAQ;AAAA,IACpE;AAAA;AAAA,IAEA,QAAQ,CAAC,eAAuB,4BAAY,OAAO,mBAAmB,UAAU;AAAA,IAChF,WAAW,MAAM,4BAAY,OAAO,oBAAoB;AAAA,EAC1D;AAAA;AAAA,EAGA,UAAU;AAAA,IACR,KAAK,MAAM,4BAAY,OAAO,cAAc;AAAA,IAC5C,KAAK,CAAC,MAAe,4BAAY,OAAO,gBAAgB,CAAC;AAAA,EAC3D;AAAA;AAAA,EAGA,WAAW;AAAA,IACT,MAAM,MAAM,4BAAY,OAAO,gBAAgB;AAAA,IAC/C,QAAQ,CAAC,MAAe,4BAAY,OAAO,oBAAoB,CAAC;AAAA,IAChE,QAAQ,CAAC,MAAe,4BAAY,OAAO,oBAAoB,CAAC;AAAA,IAChE,QAAQ,CAAC,OAAe,4BAAY,OAAO,oBAAoB,EAAE;AAAA,IACjE,YAAY,CAAC,OAAe,4BAAY,OAAO,wBAAwB,EAAE;AAAA,IACzE,gBAAgB,CAAC,YAAqB,4BAAY,OAAO,4BAA4B,OAAO;AAAA,IAC5F,iBAAiB,MAAM,4BAAY,OAAO,6BAA6B;AAAA,EACzE;AAAA;AAAA,EAGA,UAAU;AAAA,IACR,YAAY,CAAC,YAAqB,4BAAY,OAAO,wBAAwB,OAAO;AAAA,EACtF;AAAA;AAAA,EAGA,UAAU;AAAA,IACR,MAAM,MAAM,4BAAY,OAAO,eAAe;AAAA,EAChD;AAAA,EAEA,MAAM;AAAA,IACJ,WAAW,CAAC,UAAkB,4BAAY,OAAO,mBAAmB,KAAK;AAAA,IACzE,WAAW,CAAC,YAA6C,4BAAY,OAAO,oBAAoB,OAAO;AAAA,IACvG,UAAU,MAAM,4BAAY,OAAO,gBAAgB;AAAA,IACnD,SAAS,CAAC,YAAoB,4BAAY,OAAO,gBAAgB,OAAO;AAAA,EAC1E;AAAA,EAEA,UAAU;AAAA,IACR,gBAAgB,MAAM,4BAAY,OAAO,2BAA2B;AAAA,IACpE,YAAY,MAAM,4BAAY,OAAO,sBAAsB;AAAA,IAC3D,qBAAqB,MAAM,4BAAY,OAAO,gCAAgC;AAAA,EAChF;AAAA,EAEA,OAAO;AAAA,IACL,SAAS,CAAC,MAAe,4BAAY,OAAO,iBAAiB,CAAC;AAAA,IAC9D,MAAM,MAAM,4BAAY,OAAO,YAAY;AAAA,IAC3C,QAAQ,CAAC,OAAe,4BAAY,OAAO,gBAAgB,EAAE;AAAA,EAC/D;AAAA,EAEA,SAAS;AAAA,IACP,MAAM,MAAM,4BAAY,OAAO,cAAc;AAAA,IAC7C,MAAM,CAAC,SAAkB,4BAAY,OAAO,gBAAgB,IAAI;AAAA,IAChE,MAAM,CAAC,OAAe,4BAAY,OAAO,gBAAgB,EAAE;AAAA,EAC7D;AAAA,EAEA,MAAM;AAAA,IACJ,QAAQ,CAAC,MAAiD,4BAAY,OAAO,eAAe,CAAC;AAAA,EAC/F;AAAA,EAEA,MAAM;AAAA,IACJ,QAAQ,MAAM,4BAAY,OAAO,cAAc;AAAA,IAC/C,QAAQ,MAAM,4BAAY,OAAO,aAAa;AAAA,IAC9C,4BAA4B,CAAC,YAAoB,4BAAY,OAAO,mCAAmC,OAAO;AAAA,EAChH;AAAA;AAAA,EAGA,QAAQ;AAAA,IACN,gBAAgB,CAAC,YAAiB,4BAAY,OAAO,yBAAyB,OAAO;AAAA,EACvF;AAAA;AAAA,EAGA,OAAO;AAAA,IACL,kBAAkB,CAAC,aAAqB,4BAAY,OAAO,0BAA0B,QAAQ;AAAA,IAC7F,UAAU,CAAC,eAAuB,4BAAY,OAAO,kBAAkB,UAAU;AAAA,IACjF,cAAc,CAAC,QAAgB,4BAAY,OAAO,sBAAsB,GAAG;AAAA,EAC7E;AAAA;AAAA,EAGA,SAAS;AAAA,IACP,iBAAiB,CAAC,iBAAyB,4BAAY,OAAO,4BAA4B,YAAY;AAAA,IACtG,cAAc,CAAC,OAAe,4BAAY,OAAO,yBAAyB,EAAE;AAAA,EAC9E;AAAA;AAAA,EAGA,eAAe;AAAA,IACb,aAAa,CAAC,aAAqB,4BAAY,OAAO,+BAA+B,QAAQ;AAAA,IAC7F,YAAY,CAAC,QAAgB,4BAAY,OAAO,8BAA8B,GAAG;AAAA,IACjF,mBAAmB,CAAC,YAAoB,eAAuB,4BAAY,OAAO,sCAAsC,YAAY,UAAU;AAAA,IAC9I,6BAA6B,CAAC,WAAmB,YAAoB,WAAmB,WAAmB,4BAAY,OAAO,iDAAiD,WAAW,YAAY,WAAW,MAAM;AAAA,IACvN,2BAA2B,CAAC,KAAa,eAAuB,4BAAY,OAAO,gDAAgD,KAAK,UAAU;AAAA,EACpJ;AACF,CAAC;",
  "names": []
}
