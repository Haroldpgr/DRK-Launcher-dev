class d{async getMinecraftVersions(){var e,r;if(!((r=(e=window.api)==null?void 0:e.versions)!=null&&r.list))throw new Error("API de versiones no disponible");return await window.api.versions.list()}async createInstance(e){var r,s;if(!((s=(r=window.api)==null?void 0:r.instance)!=null&&s.createFull))throw new Error("API de creación de instancias no disponible");return await window.api.instance.createFull(e)}async getRecentLogs(e=50){var r;if(!window.api)throw new Error("API de Electron no disponible");return await((r=window.api.logs)==null?void 0:r.getRecent(e))||[]}async getLogsByType(e,r=50){var s;if(!window.api)throw new Error("API de Electron no disponible");return await((s=window.api.logs)==null?void 0:s.getByType({type:e,count:r}))||[]}async getLogStats(){var e;if(!window.api)throw new Error("API de Electron no disponible");return await((e=window.api.logs)==null?void 0:e.getStats())||{}}async getAllProgressStatuses(){var e;if(!window.api)throw new Error("API de Electron no disponible");return await((e=window.api.progress)==null?void 0:e.getAllStatuses())||[]}async getOverallProgress(){var e;if(!window.api)throw new Error("API de Electron no disponible");return await((e=window.api.progress)==null?void 0:e.getOverall())||{progress:0,statusText:"No disponible",activeOperations:0}}async getDownloadStatuses(){var e;if(!window.api)throw new Error("API de Electron no disponible");return await((e=window.api.progress)==null?void 0:e.getDownloadStatuses())||[]}async getJavaInstallations(){var e,r;return(e=window.api)!=null&&e.java?await((r=window.api.java)==null?void 0:r.getAll())||[]:[]}async detectJava(){var e,r;return(e=window.api)!=null&&e.java?await((r=window.api.java)==null?void 0:r.detect())||[]:[]}async getRecommendedJavaForVersion(e){return"17"}async getFabricVersions(e){try{const r=await fetch(`https://meta.fabricmc.net/v2/versions/loader/${e}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Error al obtener versiones de Fabric:",r),[]}}async getForgeVersions(e){try{console.log(`[Forge] Obteniendo versiones para Minecraft ${e}`);const r=await fetch("https://maven.minecraftforge.net/net/minecraftforge/forge/maven-metadata.json",{headers:{"User-Agent":"DRK-Launcher/1.0"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(console.log("[Forge] Datos recibidos:",s),!s.versioning||!s.versioning.versions||!Array.isArray(s.versioning.versions))return console.error("[Forge] Estructura de datos inválida:",s),[];const t=s.versioning.versions.filter(n=>n.startsWith(`${e}-`));console.log(`[Forge] Versiones compatibles encontradas: ${t.length}`,t);const a=t.sort((n,o)=>{const i=n.split("-")[1]||"";return(o.split("-")[1]||"").localeCompare(i,void 0,{numeric:!0,sensitivity:"base"})}).map(n=>({version:n,mcversion:e,type:"release"}));return console.log("[Forge] Versiones procesadas:",a),a}catch(r){return console.error("[Forge] Error al obtener versiones de Forge:",r),[]}}async getQuiltVersions(e){try{const r=await fetch(`https://meta.quiltmc.org/v3/versions/loader/${e}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Error al obtener versiones de Quilt:",r),[]}}async getNeoForgeVersions(e){try{console.log(`[NeoForge] Obteniendo versiones para Minecraft ${e}`);const r=await fetch("https://maven.neoforged.net/api/maven/versions/releases/net/neoforged/neoforge",{headers:{"User-Agent":"DRK-Launcher/1.0"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(console.log("[NeoForge] Datos recibidos:",s),!Array.isArray(s))return console.error("[NeoForge] Estructura de datos inválida: se esperaba un array",s),[];const t=s.filter(o=>typeof o=="string"?o.startsWith(`${e}-`):o&&o.version?o.version.startsWith(`${e}-`):!1);console.log(`[NeoForge] Versiones compatibles encontradas: ${t.length}`,t);const n=t.map(o=>typeof o=="string"?{version:o}:o).sort((o,i)=>{const c=typeof o=="string"?o:o.version||"",w=typeof i=="string"?i:i.version||"",g=c.split("-")[1]||"";return(w.split("-")[1]||"").localeCompare(g,void 0,{numeric:!0,sensitivity:"base"})}).map(o=>({version:typeof o=="string"?o:o.version||"",mcversion:e,type:o.type||"release"}));return console.log("[NeoForge] Versiones procesadas:",n),n}catch(r){return console.error("[NeoForge] Error al obtener versiones de NeoForge:",r),[]}}}const f=new d;export{f as i};
