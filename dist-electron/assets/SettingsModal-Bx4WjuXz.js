var Q=Object.defineProperty;var X=(r,a,l)=>a in r?Q(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l;var W=(r,a,l)=>X(r,typeof a!="symbol"?a+"":a,l);import{r as x,j as e,t as q,_ as Z}from"./index-CpF4z2po.js";import{javaDownloadService as ee}from"./javaDownloadService-DXizV9PW.js";import{B as D}from"./Button-BYCys0AC.js";import"./downloadService-DrT8OfMC.js";const G="launcher_settings",O={appearance:{theme:"dark",accentColor:"#3B82F6",advancedRendering:!1,globalFontSize:1,enableTransitions:!0,backgroundOpacity:.3,borderRadius:8,colorFilter:"none"},behavior:{minimizeOnLaunch:!0,hideNametag:!1,defaultLandingPage:"home",jumpBackWorlds:[],nativeDecorations:!1,showRecentWorlds:!0,closeAfterPlay:!1,systemNotifications:!0,backgroundFPSLimit:30},privacy:{telemetryEnabled:!0,discordRPC:!0,personalizedAds:!1,logLevel:"Info",forcedOfflineMode:!1,privacyPolicyUrl:"https://example.com/privacy"},java:{defaultVersion:"17"}};function P(){const r=localStorage.getItem(G);if(r)try{const a=JSON.parse(r);return I(O,a)}catch(a){return console.error("Error parsing settings:",a),O}return O}function I(r,a){const l={...r};return T(r)&&T(a)&&Object.keys(a).forEach(i=>{T(a[i])?i in r?l[i]=I(r[i],a[i]):Object.assign(l,{[i]:a[i]}):Array.isArray(a[i])&&Array.isArray(r[i])?l[i]=[...r[i],...a[i]]:a[i]!==void 0&&(l[i]=a[i])}),l}function T(r){return r&&typeof r=="object"&&!Array.isArray(r)}function S(r){localStorage.setItem(G,JSON.stringify(r))}const k={getSettings(){return P()},updateSettings(r){const l={...P(),...r};return S(l),l},updateAppearance(r){const a=P(),l={...a,appearance:{...a.appearance,...r}};return S(l),l.appearance},updateBehavior(r){const a=P(),l={...a,behavior:{...a.behavior,...r}};return S(l),l.behavior},updatePrivacy(r){const a=P(),l={...a,privacy:I(a.privacy,r)};return S(l),l.privacy},updateJava(r){const a=P(),l={...a,java:{...a.java,...r}};return S(l),l.java},addJumpBackWorld(r){const a=P(),i=(a.behavior.jumpBackWorlds||[]).filter(n=>n.id!==r.id),c=[r,...i].slice(0,10),u={...a,behavior:{...a.behavior,jumpBackWorlds:c}};return S(u),u.behavior.jumpBackWorlds}};function ae({settings:r,onSettingsChange:a}){const[l,i]=x.useState("dark"),[c,u]=x.useState(r.customBackgroundPath||"");x.useEffect(()=>{if(r.theme==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;i(t?"dark":"light")}},[r.theme]);const n=t=>{a({theme:t})},f=t=>{a({accentColor:t})},m=t=>{a({globalFontSize:t})},p=t=>{a({borderRadius:t})},b=t=>{a({backgroundOpacity:t})},v=t=>{a({colorFilter:t})},N=async()=>{if(window.api&&window.api.java)try{const t=await window.api.java.explore();t&&(u(t),a({customBackgroundPath:t}))}catch(t){console.error("Error selecting background:",t),alert("Error al seleccionar la imagen de fondo")}else alert("API no disponible")},j=()=>{q.resetToDefaults(),a({theme:"dark",accentColor:"#3B82F6",advancedRendering:!1,globalFontSize:1,enableTransitions:!0,backgroundOpacity:.3,borderRadius:8,colorFilter:"none"}),u("")},w=()=>{const t="0123456789ABCDEF";let g="#";for(let o=0;o<6;o++)g+=t[Math.floor(Math.random()*16)];return g};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Tema"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>n("dark"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.theme==="dark"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-700"}),e.jsx("span",{className:"text-white",children:"Oscuro"})]})}),e.jsx("button",{onClick:()=>n("light"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.theme==="light"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300"}),e.jsx("span",{className:"text-white",children:"Claro"})]})}),e.jsx("button",{onClick:()=>n("oled"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.theme==="oled"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-black"}),e.jsx("span",{className:"text-white",children:"OLED"})]})}),e.jsx("button",{onClick:()=>n("system"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.theme==="system"?"border-blue-500 bg-blue-900/30":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${l==="dark"?"bg-gray-700":"bg-gray-300"}`}),e.jsx("span",{className:"text-white",children:"Sistema"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Color de √ânfasis"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899"].map(t=>e.jsx("button",{onClick:()=>f(t),className:`w-8 h-8 rounded-full border-2 ${r.accentColor===t?"border-white ring-2 ring-offset-2 ring-offset-gray-900 ring-white":"border-gray-600"}`,style:{backgroundColor:t},title:`Color ${t}`},t)),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",value:r.accentColor,onChange:t=>f(t.target.value),className:"w-8 h-8 rounded-full border border-gray-600 cursor-pointer",title:"Selector de color personalizado"}),e.jsx("button",{onClick:()=>f(w()),className:"absolute -bottom-2 -right-2 w-5 h-5 rounded-full bg-gray-700 text-white text-xs flex items-center justify-center",title:"Color aleatorio",children:"?"})]})]}),e.jsx("div",{className:"text-sm text-gray-400 ml-2",children:r.accentColor})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Tama√±o de Fuente"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsx("span",{children:"Peque√±o"}),e.jsxs("span",{children:[Math.round(r.globalFontSize*100),"%"]}),e.jsx("span",{children:"Grande"})]}),e.jsx("input",{type:"range",min:"0.8",max:"1.5",step:"0.05",value:r.globalFontSize,onChange:t=>m(parseFloat(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Esquinas Redondeadas"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsx("span",{children:"0px"}),e.jsxs("span",{children:[r.borderRadius,"px"]}),e.jsx("span",{children:"20px"})]}),e.jsx("input",{type:"range",min:"0",max:"20",step:"1",value:r.borderRadius,onChange:t=>p(parseInt(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Renderizado Avanzado"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Mejora la apariencia visual pero puede afectar el rendimiento"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.advancedRendering,onChange:t=>a({advancedRendering:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.advancedRendering&&e.jsx("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-200 flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Esta opci√≥n puede afectar el rendimiento en sistemas bajos"]})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Animaciones de Transici√≥n"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Habilita/deshabilita las transiciones CSS suaves"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.enableTransitions,onChange:t=>a({enableTransitions:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Filtro de Color"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{value:"none",label:"Ninguno"},{value:"sepia",label:"Sepia"},{value:"contrast",label:"Contraste"},{value:"saturate",label:"Saturar"}].map(t=>e.jsx("button",{onClick:()=>v(t.value),className:`p-3 rounded-lg border transition-all ${r.colorFilter===t.value?"border-blue-500 bg-blue-900/30 text-white":"border-gray-700 bg-gray-800/50 text-gray-300 hover:border-gray-600"}`,children:t.label},t.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Fondo Personalizado"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"text",value:c,onChange:t=>{u(t.target.value),a({customBackgroundPath:t.target.value})},placeholder:"Ruta a la imagen de fondo",className:"flex-1 p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Explorar"})]}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between text-sm text-gray-400",children:e.jsxs("span",{children:["Opacidad: ",Math.round(r.backgroundOpacity*100),"%"]})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:r.backgroundOpacity,onChange:t=>b(parseFloat(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-700",children:e.jsx("button",{onClick:j,className:"px-5 py-2.5 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-medium rounded-lg transition-all",children:"Reiniciar temas"})})]})}function re({settings:r,onSettingsChange:a}){const[l,i]=x.useState(!1),c=n=>{const m=Date.now()-n,p=Math.floor(m/36e5),b=Math.floor(m/864e5);return p<24?`${p}h`:`${b}d`},u=n=>{const f=parseInt(n);!isNaN(f)&&f>=1&&f<=60&&a({backgroundFPSLimit:f})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Minimizar launcher al iniciar"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Minimiza el launcher cuando se inicia un juego"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.minimizeOnLaunch,onChange:n=>a({minimizeOnLaunch:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Ocultar nametag"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Oculta las etiquetas de nombre en la interfaz"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.hideNametag,onChange:n=>a({hideNametag:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Decoraciones nativas"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Usar el marco de ventana nativo del sistema (requiere reinicio)"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.nativeDecorations,onChange:n=>a({nativeDecorations:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Cerrar despu√©s de jugar"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Cerrar el launcher cuando el proceso de Minecraft termina"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.closeAfterPlay,onChange:n=>a({closeAfterPlay:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Saltar a mundos recientes"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Mostrar mundos jugados recientemente en la p√°gina de inicio"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.showRecentWorlds,onChange:n=>a({showRecentWorlds:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Notificaciones de sistema"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Recibir notificaciones del sistema operativo para eventos importantes"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.systemNotifications,onChange:n=>a({systemNotifications:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),e.jsx("button",{onClick:()=>i(!l),className:"text-gray-400 hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),l&&e.jsx("div",{className:"p-3 bg-blue-900/30 border border-blue-700/50 rounded-lg text-sm text-blue-200",children:"Las notificaciones se mostrar√°n para eventos como: finalizaci√≥n de descargas, actualizaciones completadas, o finalizaci√≥n de sesiones de juego."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"P√°gina de inicio predeterminada"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["home","instances","servers","settings"].map(n=>e.jsx("button",{onClick:()=>a({defaultLandingPage:n}),className:`p-3 rounded-lg border-2 transition-all duration-300 capitalize ${r.defaultLandingPage===n?"border-blue-500 bg-blue-900/30 text-white":"border-gray-700 bg-gray-800/50 text-gray-300 hover:border-gray-600"}`,children:n},n))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Volver a mundos"}),e.jsxs("div",{className:"space-y-2",children:[r.jumpBackWorlds.slice(0,5).map(n=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-800/50 rounded-lg border border-gray-700 hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm mr-3",children:n.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:n.name}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Jugado hace ",c(n.lastPlayed)]})]}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"Jugar"})]},n.id)),r.jumpBackWorlds.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No hay mundos recientes"})]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Rendimiento"}),e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-200",children:"L√≠mite de FPS en segundo plano"}),e.jsx("p",{className:"text-sm text-gray-400",children:"FPS m√°ximos cuando la ventana est√° minimizada o no est√° en primer plano"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",min:"1",max:"60",value:r.backgroundFPSLimit,onChange:n=>u(n.target.value),className:"w-20 p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-center"}),e.jsx("span",{className:"ml-2 text-gray-400",children:"FPS"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsx("span",{children:"1"}),e.jsxs("span",{children:[r.backgroundFPSLimit," FPS"]}),e.jsx("span",{children:"60"})]}),e.jsx("input",{type:"range",min:"1",max:"60",step:"1",value:r.backgroundFPSLimit,onChange:n=>u(n.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Limitar los FPS en segundo plano puede reducir el uso de CPU y GPU cuando no est√°s usando activamente el launcher"})]})]})]})}function te(){if(typeof window<"u"&&window.localStorage){let r=localStorage.getItem("anonId");return r||(r="anon_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36),localStorage.setItem("anonId",r)),r}return"anon_unknown"}const se=te();let _=!0;function Y(){const r=k.getSettings();_=r.privacy.telemetryEnabled&&!r.privacy.forcedOfflineMode}function J(r,a={}){if(!_){console.log(`[PRIVACIDAD] Evento "${r}" bloqueado por la configuraci√≥n del usuario.`);return}const l={userId:se,event:r,timestamp:new Date().toISOString(),...a};console.log("[TELEMETR√çA] Enviando datos:",l)}function le(){return _}Y();const ne=Object.freeze(Object.defineProperty({__proto__:null,isTelemetryActive:le,trackEvent:J,updateTelemetryStatus:Y},Symbol.toStringTag,{value:"Module"}));class ie{async clearCache(){try{return console.log("Limpiando cach√©..."),J("cache_cleared",{method:"manual"}),!0}catch(a){return console.error("Error al limpiar la cach√©:",a),J("cache_clear_error",{error:a.message}),!1}}async exportSettings(){try{console.log("Exportando configuraci√≥n...");const a=k.getSettings(),l=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),i=URL.createObjectURL(l),c=document.createElement("a");return c.href=i,c.download="configuracion-launcher.json",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i),J("settings_exported",{method:"manual"}),!0}catch(a){return console.error("Error al exportar configuraci√≥n:",a),J("settings_export_error",{error:a.message}),!1}}updatePrivacySettings(a){const l=k.updatePrivacy(a);return a.telemetryEnabled!==void 0&&Z(()=>Promise.resolve().then(()=>ne),void 0).then(i=>{i.updateTelemetryStatus()}),l}getPrivacySettings(){return k.getSettings().privacy}validatePrivacyPolicyUrl(a){try{const l=new URL(a);return l.protocol==="https:"||l.protocol==="http:"}catch{return!1}}}const A=new ie;function oe({settings:r,onSettingsChange:a}){const[l,i]=x.useState(!1),[c,u]=x.useState(!1),[n,f]=x.useState(!1),[m,p]=x.useState(!1),b=()=>{i(!l)},v=async()=>{if(window.confirm("¬øEst√°s seguro de que quieres eliminar la cach√©? Esto eliminar√° descargas temporales y puede afectar el rendimiento futuro.")){u(!0);try{const t=await A.clearCache();alert(t?"Cach√© limpiada exitosamente":"Error al limpiar la cach√©")}catch(t){console.error("Error al limpiar la cach√©:",t),alert("Error al limpiar la cach√©")}finally{u(!1)}}},N=async()=>{f(!0);try{await A.exportSettings()?(p(!0),setTimeout(()=>p(!1),3e3)):alert("Error al exportar la configuraci√≥n")}catch(t){console.error("Error al exportar la configuraci√≥n:",t),alert("Error al exportar la configuraci√≥n")}finally{f(!1)}},j=t=>{a({logLevel:t})},w=t=>{(A.validatePrivacyPolicyUrl(t)||t==="")&&a({privacyPolicyUrl:t})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Telemetr√≠a"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Permitir que la aplicaci√≥n env√≠e datos an√≥nimos de uso para mejorar la experiencia"}),l&&e.jsxs("div",{className:"mt-3 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"font-medium text-gray-300 mb-2",children:"Datos recopilados:"}),e.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc pl-5",children:[e.jsx("li",{children:"Tiempo de inicio de la aplicaci√≥n"}),e.jsx("li",{children:"Errores no identificables"}),e.jsx("li",{children:"Versiones de sistema operativo"}),e.jsx("li",{children:"Configuraci√≥n de hardware general (sin identificadores √∫nicos)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No se recopila informaci√≥n personal ni credenciales."})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[e.jsx("input",{type:"checkbox",checked:r.telemetryEnabled,onChange:t=>a({telemetryEnabled:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.telemetryEnabled&&e.jsx("button",{onClick:b,className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:l?"Ocultar detalles":"Mostrar qu√© datos se recopilan"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Rich Presence en Discord"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Mostrar tu actividad en Discord"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.discordRPC,onChange:t=>a({discordRPC:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.discordRPC&&e.jsx("div",{className:"p-3 bg-blue-900/30 border border-blue-700/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-200 flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Requiere reiniciar la aplicaci√≥n para activarse"]})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Anuncios personalizados"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Mostrar anuncios basados en tus preferencias"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.personalizedAds,onChange:t=>a({personalizedAds:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Modo Offline Forzado"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Impedir conexiones de red no esenciales"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.forcedOfflineMode,onChange:t=>a({forcedOfflineMode:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.forcedOfflineMode&&e.jsx("div",{className:"p-3 bg-yellow-900/30 border border-yellow-700/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-200 flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Esta opci√≥n puede afectar la funcionalidad del launcher"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Nivel de Registro"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Debug","Info","Error"].map(t=>e.jsx("button",{onClick:()=>j(t),className:`p-2 rounded-lg border transition-all ${r.logLevel===t?"border-blue-500 bg-blue-900/30 text-white":"border-gray-700 bg-gray-800/50 text-gray-300 hover:border-gray-600"}`,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Pol√≠tica de Privacidad"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",value:r.privacyPolicyUrl,onChange:t=>w(t.target.value),placeholder:"https://example.com/privacy",className:"w-full p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-sm text-gray-400",children:"URL de la pol√≠tica de privacidad que se mostrar√° al usuario"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Herramientas de Privacidad"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:v,disabled:c,className:"p-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg shadow transition-all flex items-center justify-center",children:[c?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,c?"Limpiando...":"Limpiar Cach√©"]}),e.jsxs("button",{onClick:N,disabled:n,className:"p-3 bg-gradient-to-r from-emerald-600 to-teal-700 hover:from-emerald-700 hover:to-teal-800 text-white rounded-lg shadow transition-all flex items-center justify-center",children:[n?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,n?"Exportando...":"Exportar Configuraci√≥n"]})]}),m&&e.jsx("div",{className:"mt-2 p-2 bg-emerald-900/30 border border-emerald-700/50 rounded text-emerald-200 text-center",children:"Configuraci√≥n exportada exitosamente"})]})})]})}function ce({settings:r,onSettingsChange:a}){var U,H,V;const[l,i]=x.useState([]),[c,u]=x.useState(null),[n,f]=x.useState(null),[m,p]=x.useState(null),[b,v]=x.useState("idle"),[N,j]=x.useState("idle"),[w,t]=x.useState("idle"),[g,o]=x.useState({});x.useEffect(()=>{z()},[]);const z=async()=>{if(window.api&&window.api.java)try{const s=await window.api.java.getAll();i(s)}catch(s){console.error("Error loading Java installations:",s)}},R=async s=>{s==="8"?v("detecting"):s==="17"?j("detecting"):s==="21"&&t("detecting");try{if(window.api&&window.api.java&&window.api.java.detectSimple){const h=await window.api.java.detectSimple();i(h);const d=h.find(y=>y.version===s||y.path.includes(s)||s==="8"&&(y.version.includes("8")||y.path.includes("8"))||s==="17"&&(y.version.includes("17")||y.path.includes("17"))||s==="21"&&(y.version.includes("21")||y.path.includes("21")));d?(s==="8"?(u(d),v("success"),a({java8Path:d.path})):s==="17"?(f(d),j("success"),a({java17Path:d.path})):s==="21"&&(p(d),t("success"),a({java21Path:d.path})),alert(`Java ${s} detectado en: ${d.path}`)):(s==="8"?v("error"):s==="17"?j("error"):s==="21"&&t("error"),alert(`Java ${s} no encontrado en C:\\Program Files\\Java\\. Puedes instalarlo.`))}else{console.warn("API de Java no disponible, intentando con servicio alternativo...");const h=await K(s);if(h){const d={id:`simulated_java_${s}`,path:h.path,version:s,isWorking:!0,source:"simulated"},y=[...l,d].filter((F,C,M)=>C===M.findIndex(E=>E.id===F.id));i(y),s==="8"?(u(d),v("success"),a({java8Path:d.path})):s==="17"?(f(d),j("success"),a({java17Path:d.path})):s==="21"&&(p(d),t("success"),a({java21Path:d.path})),alert(`Java ${s} detectado en: ${d.path}`)}else s==="8"?v("error"):s==="17"?j("error"):s==="21"&&t("error"),alert(`Java ${s} no encontrado en C:\\Program Files\\Java\\. Inst√°lalo en ese directorio o usa el instalador.`)}}catch(h){console.error(`Error detecting Java ${s}:`,h),s==="8"?v("error"):s==="17"?j("error"):s==="21"&&t("error")}},K=async s=>new Promise(h=>{setTimeout(()=>{const d=navigator.userAgent.includes("Win"),y=navigator.userAgent.includes("Mac"),F=navigator.userAgent.includes("Linux");let C=[];d?C=[`C:/Program Files/Java/jdk${s}/bin/java.exe`,`C:/Program Files/Eclipse Adoptium/jdk-${s}.0.0-hotspot/bin/java.exe`,`C:/Program Files/Java/openjdk${s}/bin/java.exe`]:y?C=[`/Library/Java/JavaVirtualMachines/openjdk-${s}.jdk/Contents/Home/bin/java`,`/Library/Java/JavaVirtualMachines/adoptopenjdk-${s}.jdk/Contents/Home/bin/java`]:F?C=[`/usr/lib/jvm/java-${s}-openjdk/bin/java`,"/usr/lib/jvm/default-java/bin/java","/opt/java/openjdk/bin/java"]:C=["java"];const M=C.find(E=>!!(s==="8"&&E.toLowerCase().includes("jdk8")||s==="17"&&E.toLowerCase().includes("jdk-17")||s==="21"&&E.toLowerCase().includes("jdk-21")));h(M?{path:M}:null)},300)}),$=async(s,h)=>{if(!window.api||!window.api.java)return alert("API de Java no disponible"),!1;try{const d=await window.api.java.test(s);return d.isWorking?(alert(`Java ${h} probado exitosamente. Versi√≥n: ${d.version}`),!0):(alert(`Error al probar Java ${h}: ${d.error||"No se pudo ejecutar"}`),!1)}catch(d){return console.error(`Error testing Java ${h}:`,d),alert(`Error al probar Java ${h}: ${d.message}`),!1}},L=async s=>{if(!window.api||!window.api.java){alert("API de Java no disponible");return}try{o(h=>({...h,[s]:{received:0,total:100,percentage:0}})),await ee.installJava(s),alert(`Iniciando descarga de Java ${s}. Puedes ver el progreso en la secci√≥n de Descargas.`),o(h=>({...h,[s]:null})),z()}catch(h){console.error(`Error installing Java ${s}:`,h),alert(`Error al instalar Java ${s}: ${h.message}`),o(d=>({...d,[s]:null}))}},B=(s,h)=>{s==="8"?a({java8Path:h}):s==="17"?a({java17Path:h}):s==="21"&&a({java21Path:h})};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-200 mb-4",children:"Configuraci√≥n de Java"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-200",children:"Java 8"}),e.jsx("button",{onClick:()=>L("8"),disabled:!!g[8]||c&&c.isWorking,className:"px-3 py-1 bg-gradient-to-r from-emerald-600 to-teal-700 hover:from-emerald-700 hover:to-teal-800 text-white rounded text-sm transition-all disabled:opacity-50",children:g[8]?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(U=g[8])==null?void 0:U.percentage,"%"]}):c&&c.isWorking?"Java 8 Detectado":"Instalar recomendado"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.java8Path||"",onChange:s=>B("8",s.target.value),placeholder:"Ruta al ejecutable de Java 8",className:"flex-1 p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>R("8"),disabled:b==="detecting",className:`px-3 py-2 rounded-lg transition-all ${b==="detecting"?"bg-blue-800 text-blue-200":c&&c.isWorking?"bg-emerald-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:b==="detecting"?e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Detectar"}),e.jsx("button",{onClick:async()=>{r.java8Path&&await $(r.java8Path,"8")},className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-all",children:"Probar"})]}),b==="error"&&e.jsx("div",{className:"mt-2 text-sm text-red-400",children:"No se encontr√≥ Java 8 en el sistema"}),c&&c.isWorking&&e.jsxs("div",{className:"mt-2 text-sm text-emerald-400",children:["Java 8 detectado correctamente: ",c.path]})]}),e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-200",children:"Java 17"}),e.jsx("button",{onClick:()=>L("17"),disabled:!!g[17]||n&&n.isWorking,className:"px-3 py-1 bg-gradient-to-r from-emerald-600 to-teal-700 hover:from-emerald-700 hover:to-teal-800 text-white rounded text-sm transition-all disabled:opacity-50",children:g[17]?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(H=g[17])==null?void 0:H.percentage,"%"]}):n&&n.isWorking?"Java 17 Detectado":"Instalar recomendado"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.java17Path||"",onChange:s=>B("17",s.target.value),placeholder:"Ruta al ejecutable de Java 17",className:"flex-1 p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>R("17"),disabled:N==="detecting",className:`px-3 py-2 rounded-lg transition-all ${N==="detecting"?"bg-blue-800 text-blue-200":n&&n.isWorking?"bg-emerald-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:N==="detecting"?e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Detectar"}),e.jsx("button",{onClick:async()=>{r.java17Path&&await $(r.java17Path,"17")},className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-all",children:"Probar"})]}),N==="error"&&e.jsx("div",{className:"mt-2 text-sm text-red-400",children:"No se encontr√≥ Java 17 en el sistema"}),n&&n.isWorking&&e.jsxs("div",{className:"mt-2 text-sm text-emerald-400",children:["Java 17 detectado correctamente: ",n.path]})]}),e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-200",children:"Java 21"}),e.jsx("button",{onClick:()=>L("21"),disabled:!!g[21]||m&&m.isWorking,className:"px-3 py-1 bg-gradient-to-r from-emerald-600 to-teal-700 hover:from-emerald-700 hover:to-teal-800 text-white rounded text-sm transition-all disabled:opacity-50",children:g[21]?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(V=g[21])==null?void 0:V.percentage,"%"]}):m&&m.isWorking?"Java 21 Detectado":"Instalar recomendado"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.java21Path||"",onChange:s=>B("21",s.target.value),placeholder:"Ruta al ejecutable de Java 21",className:"flex-1 p-2 rounded-lg bg-gray-700/80 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>R("21"),disabled:w==="detecting",className:`px-3 py-2 rounded-lg transition-all ${w==="detecting"?"bg-blue-800 text-blue-200":m&&m.isWorking?"bg-emerald-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:w==="detecting"?e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Detectar"}),e.jsx("button",{onClick:async()=>{r.java21Path&&await $(r.java21Path,"21")},className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-all",children:"Probar"})]}),w==="error"&&e.jsx("div",{className:"mt-2 text-sm text-red-400",children:"No se encontr√≥ Java 21 en el sistema"}),m&&m.isWorking&&e.jsxs("div",{className:"mt-2 text-sm text-emerald-400",children:["Java 21 detectado correctamente: ",m.path]})]})]})]})})}class de{constructor(){W(this,"monitoredProcesses",new Map);W(this,"settings");this.settings={minimizeOnLaunch:!0,hideNametag:!1,defaultLandingPage:"home",jumpBackWorlds:[],nativeDecorations:!1,showRecentWorlds:!0,closeAfterPlay:!1,systemNotifications:!0,backgroundFPSLimit:30}}updateSettings(a){this.settings=a}monitorGameProcess(a,l){this.monitoredProcesses.set(a,l),setTimeout(()=>{this.handleProcessExit(a,0)},1e4)}handleProcessExit(a,l){const i=this.monitoredProcesses.get(a);i&&(i(l),this.monitoredProcesses.delete(a),this.settings.systemNotifications&&this.sendSystemNotification("Juego finalizado",`La sesi√≥n de juego ha terminado con c√≥digo ${l}`))}sendSystemNotification(a,l){console.log(`Notificaci√≥n del sistema: ${a} - ${l}`),"Notification"in window&&(Notification.permission==="granted"?new Notification(a,{body:l}):Notification.permission!=="denied"&&Notification.requestPermission().then(i=>{i==="granted"&&new Notification(a,{body:l})}))}async launchGameAndMonitor(a,l){try{console.log(`Lanzando juego para instancia ${a} con comando:`,l),this.settings.minimizeOnLaunch&&console.log("Minimizando launcher al iniciar el juego");const i=`game-${a}-${Date.now()}`;return this.monitorGameProcess(i,c=>{console.log(`Proceso de juego finalizado con c√≥digo: ${c}`),this.settings.closeAfterPlay?console.log("Cerrando launcher tras finalizaci√≥n del juego"):console.log("Juego finalizado, launcher permanece abierto")}),{success:!0,processId:i}}catch(i){return console.error("Error lanzando juego:",i),{success:!1,error:i.message}}}getProcessCount(){return this.monitoredProcesses.size}}const ue=new de;function ge({isOpen:r,onClose:a,onSettingsChanged:l}){const[i,c]=x.useState("appearance"),[u,n]=x.useState(k.getSettings()),[f,m]=x.useState(!1);if(x.useEffect(()=>{r&&(n(k.getSettings()),m(!1))},[r]),!r)return null;const p=o=>{const z={...u,...o};n(z),m(!0)},b=o=>{p({appearance:{...u.appearance,...o}})},v=o=>{p({behavior:{...u.behavior,...o}})},N=o=>{p({privacy:{...u.privacy,...o}})},j=o=>{p({java:{...u.java,...o}})},w=()=>{const o=k.updateSettings(u);o.appearance&&q.initializeTheme(o.appearance),o.behavior&&ue.updateSettings(o.behavior),o.privacy&&A.updatePrivacySettings(o.privacy),l&&l(o),m(!1),a()},t=()=>{f?window.confirm("¬øEst√°s seguro de que quieres descartar los cambios no guardados?")&&a():a()},g=[{id:"appearance",label:"Apariencia",icon:"üé®"},{id:"behavior",label:"Comportamiento",icon:"‚öôÔ∏è"},{id:"privacy",label:"Privacidad",icon:"üîí"},{id:"java",label:"Java",icon:"‚òï"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col border border-gray-700/50 backdrop-blur-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuraci√≥n"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-48 bg-gray-800/50 border-r border-gray-700 p-2",children:e.jsx("nav",{className:"space-y-1",children:g.map(o=>e.jsxs("button",{onClick:()=>c(o.id),className:`w-full flex items-center px-3 py-2.5 rounded-lg text-left transition-colors ${i===o.id?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[e.jsx("span",{className:"mr-2",children:o.icon}),e.jsx("span",{className:"text-sm",children:o.label})]},o.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="appearance"&&e.jsx(ae,{settings:u.appearance,onSettingsChange:b}),i==="behavior"&&e.jsx(re,{settings:u.behavior,onSettingsChange:v}),i==="privacy"&&e.jsx(oe,{settings:u.privacy,onSettingsChange:N}),i==="java"&&e.jsx(ce,{settings:u.java,onSettingsChange:j})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-between",children:[e.jsx(D,{variant:"secondary",onClick:t,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-gray-600 to-gray-700 text-gray-200 font-medium",children:"Cancelar"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(D,{variant:"secondary",onClick:()=>{n(k.getSettings()),m(!1)},disabled:!f,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-gray-600 to-gray-700 text-gray-200 font-medium disabled:opacity-50",children:"Restablecer"}),e.jsx(D,{onClick:w,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transition-all duration-300 transform hover:-translate-y-0.5",children:"Guardar configuraci√≥n"})]})]})]})})}export{ge as default};
